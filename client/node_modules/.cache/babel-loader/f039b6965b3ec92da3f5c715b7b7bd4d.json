{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\src\\\\pages\\\\Reporting\\\\reporting.js\";\nimport React from \"react\";\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Modal from '@material-ui/core/Modal';\nimport Navbar from './../../components/Navbar2';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Table from '../../components/Table';\nimport Icon from \"../DashBoard/dashboard\";\nimport { mdiLoading } from \"@mdi/js\";\nimport axios from 'axios';\n\nvar styles = function styles(theme) {\n  return {\n    layout: _defineProperty({\n      width: 'auto',\n      marginLeft: theme.spacing.unit * 2,\n      marginRight: theme.spacing.unit * 2,\n      marginTop: theme.spacing.unit * -27\n    }, theme.breakpoints.up(600 + theme.spacing.unit * 2 * 2), {\n      width: 600,\n      marginLeft: 'auto',\n      marginRight: 'auto'\n    }),\n    paper: _defineProperty({\n      marginTop: theme.spacing.unit * 3,\n      marginBottom: theme.spacing.unit * 3,\n      padding: theme.spacing.unit * 2\n    }, theme.breakpoints.up(600 + theme.spacing.unit * 3 * 2), {\n      marginTop: theme.spacing.unit * 6,\n      marginBottom: theme.spacing.unit * 6,\n      padding: theme.spacing.unit * 3\n    }),\n    button: {\n      marginTop: theme.spacing.unit * 3,\n      marginLeft: theme.spacing.unit,\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    formControl1: {\n      margin: theme.spacing.unit,\n      minWidth: 120,\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n    textField: {\n      flexBasis: 200,\n      margin: theme.spacing.unit\n    }\n  };\n};\n\nvar ranges = [{\n  value: 1,\n  label: 'Today'\n}, {\n  value: 2,\n  label: 'Current Week'\n}, {\n  value: 3,\n  label: 'MTD'\n}, {\n  value: 4,\n  label: 'YTD'\n}, {\n  value: 5,\n  label: 'Custom'\n}]; // const ranges1 = [{\n//     value: 1,\n//     label: 'Receipt'\n// },{\n//     value: 2,\n//     label: 'Report'\n// },{\n//     value: 3,\n//     label: 'Consumed'\n// },{\n//     value: 4,\n//     label: 'Error'\n// },{\n//     value: 5,\n//     label: 'Cycle Count'\n// },{\n//     value: 6,\n//     label: 'Production Receipt'\n// }];\n\nfunction getModalStyle() {\n  var top = 50 + rand();\n  var left = 50 + rand();\n  return {\n    top: \"\".concat(top, \"%\"),\n    left: \"\".concat(left, \"%\"),\n    transform: \"translate(-\".concat(top, \"%, -\").concat(left, \"%)\")\n  };\n}\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nvar report =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(report, _React$Component);\n\n  function report(props) {\n    var _this;\n\n    _classCallCheck(this, report);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(report).call(this, props));\n\n    _this.handleClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.openModal = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleChange = function (prop) {\n      return function (event) {\n        var value = event.target.value;\n\n        _this.setState(_defineProperty({}, prop, value));\n      };\n    };\n\n    _this.handleSubmit = function () {\n      var headerObj = {\n        'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\n      };\n      var dataObj = {};\n      var holderArray = [];\n      axios.post('/reporting', dataObj, {\n        headers: headerObj\n      }).then(function (res, err) {\n        if (err) {\n          console.log('Error in getting data from database for reporting ', err);\n        }\n\n        if (res.data.data !== null) {\n          for (var i = 0; i < res.data.data.length; i++) {\n            dataObj = {\n              recno: res.data.data[0][i].RECNO,\n              scandate: res.data.data[0][i].SCANDATE,\n              product: res.data.data[0][i].PART,\n              quantity: res.data.data[0][i].QTY,\n              tagnum: res.data.data[0][i].TAG_NUM\n            };\n            holderArray.push(dataObj);\n          }\n\n          _this.setState({\n            data: holderArray\n          });\n\n          holderArray = [];\n          dataObj = {};\n        }\n      });\n    };\n\n    _this.state = {\n      period: \"\",\n      runReport: false,\n      open: false,\n      modalOpen: false,\n      data: null\n    };\n    return _this;\n  }\n\n  _createClass(report, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        handleSignOut: this.props.handleSignOut,\n        username: this.props.companyname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        className: classes.layout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        component: \"h1\",\n        variant: \"h4\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Reporting\"), React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        select: true,\n        className: classNames(classes.margin, classes.textField),\n        variant: \"outlined\",\n        label: \"Time Range\",\n        value: this.state.period,\n        onChange: this.handleChange('period'),\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 199\n            },\n            __self: this\n          }, \"Time\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, ranges.map(function (option) {\n        return React.createElement(MenuItem, {\n          key: option.value,\n          value: option.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, option.label);\n      })), this.state.period !== \"\" && React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.handleSubmit,\n        className: classes.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \" Run Report \"), this.state.runReport && (this.state.data ? React.createElement(Table, {\n        passData: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }) : React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        className: classes.loadSection,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        path: mdiLoading,\n        size: 1.5,\n        horizontal: true,\n        vertical: true,\n        rotate: 90,\n        color: \"#86af49\",\n        spin: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        className: classes.loadSection,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"Loading...\")))))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        open: this.state.modalOpen,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: getModalStyle(),\n        className: classes.paper1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        id: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"Error\"), React.createElement(Typography, {\n        variant: \"subtitle1\",\n        id: \"simple-modal-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"One of the fields was left unfilled.\")))));\n    }\n  }]);\n\n  return report;\n}(React.Component);\n\nreport.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(report);","map":{"version":3,"sources":["C:\\Users\\avidal\\Documents\\WebApps\\clientDashboard\\ClientDashBoard\\client\\src\\pages\\Reporting\\reporting.js"],"names":["React","PropTypes","classNames","withStyles","CssBaseline","Paper","Button","Typography","Modal","Navbar","MenuItem","TextField","InputAdornment","Table","Icon","mdiLoading","axios","styles","theme","layout","width","marginLeft","spacing","unit","marginRight","marginTop","breakpoints","up","paper","marginBottom","padding","button","display","justifyContent","formControl1","margin","minWidth","flexWrap","textField","flexBasis","ranges","value","label","getModalStyle","top","rand","left","transform","Math","round","random","report","props","handleClose","setState","open","openModal","handleOpen","handleChange","prop","event","target","handleSubmit","headerObj","sessionStorage","getItem","dataObj","holderArray","post","headers","then","res","err","console","log","data","i","length","recno","RECNO","scandate","SCANDATE","product","PART","quantity","QTY","tagnum","TAG_NUM","push","state","period","runReport","modalOpen","classes","handleSignOut","companyname","startAdornment","map","option","loadSection","paper1","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Navbar from './../../components/Navbar2';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Table from '../../components/Table';\r\nimport Icon from \"../DashBoard/dashboard\";\r\nimport {mdiLoading} from \"@mdi/js\";\r\nimport axios from 'axios';\r\n\r\nconst styles = theme => ({\r\n    layout: {\r\n        width: 'auto',\r\n        marginLeft: theme.spacing.unit * 2,\r\n        marginRight: theme.spacing.unit * 2,\r\n        marginTop: theme.spacing.unit * -27,\r\n        [theme.breakpoints.up(600 + theme.spacing.unit * 2 * 2)]: {\r\n            width: 600,\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 3,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        padding: theme.spacing.unit * 2,\r\n        [theme.breakpoints.up(600 + theme.spacing.unit * 3 * 2)]: {\r\n            marginTop: theme.spacing.unit * 6,\r\n            marginBottom: theme.spacing.unit * 6,\r\n            padding: theme.spacing.unit * 3,\r\n        },\r\n    },\r\n\r\n    button: {\r\n        marginTop: theme.spacing.unit * 3,\r\n        marginLeft: theme.spacing.unit,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n    },\r\n    formControl1: {\r\n        margin: theme.spacing.unit,\r\n        minWidth: 120,\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n    },\r\n    textField: {\r\n        flexBasis: 200,\r\n        margin: theme.spacing.unit,\r\n    },\r\n});\r\n\r\nconst ranges = [{\r\n    value: 1,\r\n    label: 'Today'\r\n    },{\r\n    value: 2,\r\n    label: 'Current Week'\r\n    },{\r\n    value: 3,\r\n    label: 'MTD'\r\n    },{\r\n    value: 4,\r\n    label: 'YTD'\r\n    },{\r\n    value: 5,\r\n    label: 'Custom'\r\n    }];\r\n\r\n// const ranges1 = [{\r\n//     value: 1,\r\n//     label: 'Receipt'\r\n// },{\r\n//     value: 2,\r\n//     label: 'Report'\r\n// },{\r\n//     value: 3,\r\n//     label: 'Consumed'\r\n// },{\r\n//     value: 4,\r\n//     label: 'Error'\r\n// },{\r\n//     value: 5,\r\n//     label: 'Cycle Count'\r\n// },{\r\n//     value: 6,\r\n//     label: 'Production Receipt'\r\n// }];\r\n\r\nfunction getModalStyle() {\r\n    const top = 50 + rand();\r\n    const left = 50 + rand();\r\n\r\n    return {\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n}\r\n\r\nfunction rand() {\r\n    return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nclass report extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            period : \"\",\r\n            runReport: false,\r\n            open: false,\r\n            modalOpen: false,\r\n            data: null\r\n\r\n        };\r\n    }\r\n    handleClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    openModal = () => {\r\n        this.setState({open: true})\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleChange = prop => event => {\r\n        const { value } = event.target;\r\n        this.setState({\r\n        [prop] : value\r\n        })\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        const headerObj = {\r\n            'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\r\n        };\r\n        let dataObj = {};\r\n        let holderArray = [];\r\n            axios.post('/reporting', dataObj, {headers: headerObj}).then((res, err) => {\r\n                if(err) {\r\n                    console.log('Error in getting data from database for reporting ', err);\r\n                }\r\n                if(res.data.data !== null) {\r\n                    for (let i = 0; i < res.data.data.length; i++) {\r\n                        dataObj = {\r\n                            recno: res.data.data[0][i].RECNO,\r\n                            scandate: res.data.data[0][i].SCANDATE,\r\n                            product: res.data.data[0][i].PART,\r\n                            quantity: res.data.data[0][i].QTY,\r\n                            tagnum: res.data.data[0][i].TAG_NUM\r\n                        };\r\n\r\n                        holderArray.push(dataObj);\r\n                    }\r\n                    this.setState({data: holderArray});\r\n                    holderArray = [];\r\n                    dataObj = {};\r\n                }\r\n\r\n\r\n            })\r\n\r\n    };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <CssBaseline />\r\n                <Navbar handleSignOut={this.props.handleSignOut} username={this.props.companyname}/>\r\n                <main className={classes.layout}>\r\n                    <Paper className={classes.paper}>\r\n                        <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n                            Reporting\r\n                        </Typography>\r\n                        <React.Fragment>\r\n                            {/*<form autoComplete=\"off\">*/}\r\n                                {/*<FormControl className={classes.formControl1}>*/}\r\n\r\n                                    <TextField\r\n                                    select\r\n                                    className={classNames(classes.margin, classes.textField)}\r\n                                    variant=\"outlined\"\r\n                                    label=\"Time Range\"\r\n                                    value={this.state.period}\r\n                                    onChange={this.handleChange('period')}\r\n                                    InputProps={{\r\n                                        startAdornment: <InputAdornment position=\"start\">Time</InputAdornment>,\r\n                                    }}\r\n                                >\r\n                                    {ranges.map(option => (\r\n                                        <MenuItem key={option.value} value={option.value}>\r\n                                            {option.label}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                    </TextField>\r\n\r\n                                {(this.state.period !== \"\" ) && <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    onClick={this.handleSubmit}\r\n                                    className={classes.button}\r\n                                > Run Report </Button>\r\n                                }\r\n                            {this.state.runReport &&\r\n                                (this.state.data ?\r\n                                    <Table passData={this.state.data}/>\r\n                                :\r\n                                    <Paper className={classes.paper}>\r\n                                        <Typography variant=\"h4\" gutterBottom component=\"h2\" className={classes.loadSection} align=\"center\">\r\n                                            <Icon path={mdiLoading}\r\n                                              size={1.5}\r\n                                              horizontal\r\n                                              vertical\r\n                                              rotate={90}\r\n                                              color=\"#86af49\"\r\n                                              spin/>\r\n                                        </Typography>\r\n                                    <Typography variant=\"h4\" gutterBottom component=\"h2\" className={classes.loadSection} align=\"center\">\r\n                                        Loading...\r\n                                    </Typography>\r\n                                </Paper>\r\n                                )}\r\n\r\n\r\n\r\n                        </React.Fragment>\r\n                    </Paper>\r\n                </main>\r\n                <div>\r\n                    <Modal\r\n                        aria-labelledby=\"simple-modal-title\"\r\n                        aria-describedby=\"simple-modal-description\"\r\n                        open={this.state.modalOpen}\r\n                        onClose={this.handleClose}\r\n                    >\r\n                        <div style={getModalStyle()} className={classes.paper1}>\r\n                            <Typography variant=\"h6\" id=\"modal-title\">\r\n                                Error\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" id=\"simple-modal-description\">\r\n                                One of the fields was left unfilled.\r\n                            </Typography>\r\n                        </div>\r\n                    </Modal>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nreport.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(report);"]},"metadata":{},"sourceType":"module"}