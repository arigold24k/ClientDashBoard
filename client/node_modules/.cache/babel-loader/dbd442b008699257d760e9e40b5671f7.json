{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\avidal\\\\Documents\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\avidal\\\\Documents\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\avidal\\\\Documents\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\avidal\\\\Documents\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\avidal\\\\Documents\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _defineProperty from\"C:\\\\Users\\\\avidal\\\\Documents\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from\"react\";import Modal from'@material-ui/core/Modal';import withStyles from'@material-ui/core/styles/withStyles';import SignUp from'../../components/SignUp';import CssBaseline from'@material-ui/core/CssBaseline';import Paper from'@material-ui/core/Paper';import Button from'@material-ui/core/Button';import axios from\"axios\";import Typography from'@material-ui/core/Typography';import Link from'@material-ui/core/Link';import funcs_ from\"../../functions/functions\";require('es6-promise').polyfill();function getModalStyle(){var top=50+rand();var left=50+rand();return{top:\"\".concat(top,\"%\"),left:\"\".concat(left,\"%\"),transform:\"translate(-\".concat(top,\"%, -\").concat(left,\"%)\")};}function rand(){return Math.round(Math.random()*20)-10;}function checkEmail(email){var emailRGEX=/[\\w.]+@\\w+\\.(net|com|edu|gov)/;return emailRGEX.test(email);}var styles=function styles(theme){var _layout;return{modal:{position:'absolute',width:theme.spacing.unit*50,backgroundColor:theme.palette.background.paper,boxShadow:theme.shadows[5],padding:theme.spacing.unit*4,outline:'none'},button:{marginTop:theme.spacing.unit*3,marginLeft:theme.spacing.unit// justifyContent: 'center',\n// align: 'center',\n},layout:(_layout={width:'auto',marginLeft:theme.spacing.unit*2,marginRight:theme.spacing.unit*2},_defineProperty(_layout,theme.breakpoints.up(600+theme.spacing.unit*2*2),{width:600,marginLeft:'auto',marginRight:'auto'}),_defineProperty(_layout,\"textAlign\",'center'),_layout),paper:_defineProperty({marginTop:theme.spacing.unit*3,marginBottom:theme.spacing.unit*3,padding:theme.spacing.unit*2},theme.breakpoints.up(600+theme.spacing.unit*3*2),{marginTop:theme.spacing.unit*6,marginBottom:theme.spacing.unit*6,padding:theme.spacing.unit*3})};};var signuppage=/*#__PURE__*/function(_React$Component){_inherits(signuppage,_React$Component);function signuppage(props){var _this;_classCallCheck(this,signuppage);_this=_possibleConstructorReturn(this,_getPrototypeOf(signuppage).call(this,props));_this.handleSubmit=function(event){event.preventDefault();var dataObj=_objectSpread({},_this.state);dataObj.password=funcs_.encryptPW(_this.state.password);//let v_Email = this.state.validEM;\nif(checkEmail(_this.state.email)){axios.post('/register',dataObj).then(function(req,res){// console.log(\"This is the response to the front end from the register api \", req);\nif(req.data.data===true){_this.setState({open1:true});}else if(req.data.data===3){_this.setState({open2:true});}else if(req.data.data===0){_this.setState({open:true});}});}else{_this.setState({open3:true});}};_this.handleClose=function(event){_this.setState({open:false,open2:false});window.location.reload();};_this.handleClose1=function(event){_this.setState({open1:false});window.location.href='/#/login1';};_this.handleClose3=function(event){_this.setState({open3:false,email:''});// window.location.reload();\n};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.state={companyCode:'',userName:'',email:'',password:'',rePassWord:'',open1:false,open:false,open2:false,open3:false,validEM:true};return _this;}_createClass(signuppage,[{key:\"render\",value:function render(){var classes=this.props.classes;return React.createElement(React.Fragment,null,React.createElement(CssBaseline,null),React.createElement(\"main\",{className:classes.layout},React.createElement(Paper,{className:classes.paper},React.createElement(SignUp,{updateval:this.handleChange.bind(this),CC:this.state.companyCode,UN:this.state.userName,PW:this.state.password,REPW:this.state.rePassWord,email1:this.state.email,validE:checkEmail(this.state.email)}),React.createElement(\"div\",null,this.state.password===this.state.rePassWord&&this.state.password!==''&&this.state.companyCode!==''&&this.state.userName!==''&&this.state.email!==''?React.createElement(Button,{className:classes.button,size:\"small\",variant:\"contained\",color:\"primary\",onClick:this.handleSubmit},\"Sign Up!\"):React.createElement(Typography,{component:\"h6\",variant:\"h6\",align:\"center\"},\"Already have an account? Click here to \",React.createElement(Link,{href:'/#/login1',className:classes.link},\"Sign-In\"))))),React.createElement(Modal,{\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",open:this.state.open1,onClose:this.handleClose1},React.createElement(\"div\",{style:getModalStyle(),className:classes.modal},React.createElement(Typography,{variant:\"h6\",id:\"modal-title\"},\"User Added\"),React.createElement(Typography,{variant:\"subtitle1\",id:\"simple-modal-description\"},\"User \",this.state.userName,\" has been added.\"))),React.createElement(Modal,{\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",open:this.state.open,onClose:this.handleClose},React.createElement(\"div\",{style:getModalStyle(),className:classes.modal},React.createElement(Typography,{variant:\"h6\",id:\"modal-title\"},\"User already exist for the current User Code\"))),React.createElement(Modal,{\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",open:this.state.open2,onClose:this.handleClose},React.createElement(\"div\",{style:getModalStyle(),className:classes.modal},React.createElement(Typography,{variant:\"h6\",id:\"modal-title\"},\"No Company Code exist.\"))),React.createElement(Modal,{\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",open:this.state.open3,onClose:this.handleClose3},React.createElement(\"div\",{style:getModalStyle(),className:classes.modal},React.createElement(Typography,{variant:\"h6\",id:\"modal-title\"},\"Please Provide a valid email address.\"))));}}]);return signuppage;}(React.Component);export default withStyles(styles)(signuppage);","map":{"version":3,"sources":["C:\\Users\\avidal\\Documents\\clientDashboard\\ClientDashBoard\\client\\src\\pages\\SignUpPage\\signuppage.js"],"names":["React","Modal","withStyles","SignUp","CssBaseline","Paper","Button","axios","Typography","Link","funcs_","require","polyfill","getModalStyle","top","rand","left","transform","Math","round","random","checkEmail","email","emailRGEX","test","styles","theme","modal","position","width","spacing","unit","backgroundColor","palette","background","paper","boxShadow","shadows","padding","outline","button","marginTop","marginLeft","layout","marginRight","breakpoints","up","marginBottom","signuppage","props","handleSubmit","event","preventDefault","dataObj","state","password","encryptPW","post","then","req","res","data","setState","open1","open2","open","open3","handleClose","window","location","reload","handleClose1","href","handleClose3","handleChange","target","name","value","companyCode","userName","rePassWord","validEM","classes","bind","link","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Modal from '@material-ui/core/Modal';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport SignUp from '../../components/SignUp';\nimport PropTypes from \"prop-types\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport axios from \"axios\";\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport funcs_ from \"../../functions/functions\";\nrequire('es6-promise').polyfill();\n\nfunction getModalStyle() {\n    const top = 50 + rand();\n    const left = 50 + rand();\n    return {\n        top: `${top}%`,\n        left: `${left}%`,\n        transform: `translate(-${top}%, -${left}%)`,\n    };\n}\nfunction rand() {\n    return Math.round(Math.random() * 20) - 10;\n}\n\nfunction checkEmail(email) {\n    let emailRGEX = /[\\w.]+@\\w+\\.(net|com|edu|gov)/;\n\n    return emailRGEX.test(email);\n}\n\nconst styles = theme => ({\n    modal: {\n        position: 'absolute',\n        width: theme.spacing.unit * 50,\n        backgroundColor: theme.palette.background.paper,\n        boxShadow: theme.shadows[5],\n        padding: theme.spacing.unit * 4,\n        outline: 'none',\n    },\n    button: {\n        marginTop: theme.spacing.unit * 3,\n        marginLeft: theme.spacing.unit,\n        // justifyContent: 'center',\n        // align: 'center',\n    },\n    layout: {\n        width: 'auto',\n        marginLeft: theme.spacing.unit * 2,\n        marginRight: theme.spacing.unit * 2,\n        [theme.breakpoints.up(600 + theme.spacing.unit * 2 * 2)]: {\n            width: 600,\n            marginLeft: 'auto',\n            marginRight: 'auto',\n        },\n        textAlign: 'center',\n    },\n    paper: {\n        marginTop: theme.spacing.unit * 3,\n        marginBottom: theme.spacing.unit * 3,\n        padding: theme.spacing.unit * 2,\n        [theme.breakpoints.up(600 + theme.spacing.unit * 3 * 2)]: {\n            marginTop: theme.spacing.unit * 6,\n            marginBottom: theme.spacing.unit * 6,\n            padding: theme.spacing.unit * 3,\n        },\n\n    },\n});\n\nclass signuppage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            companyCode: '',\n            userName: '',\n            email: '',\n            password: '',\n            rePassWord: '',\n            open1: false,\n            open: false,\n            open2: false,\n            open3: false,\n            validEM: true,\n        };\n    }\n    handleSubmit = (event) => {\n        event.preventDefault();\n        let dataObj ={...this.state};\n        dataObj.password = funcs_.encryptPW(this.state.password);\n        //let v_Email = this.state.validEM;\n\n        if (checkEmail(this.state.email)) {\n            axios.post('/register', dataObj).then((req, res) => {\n                // console.log(\"This is the response to the front end from the register api \", req);\n                if(req.data.data === true) {\n                    this.setState({open1: true});\n                }else if (req.data.data === 3) {\n                    this.setState({open2: true});\n                }else if (req.data.data === 0) {\n                    this.setState({open: true});\n                }\n            });\n        }else {\n            this.setState({open3: true})\n        }\n\n\n    };\n    handleClose = (event) => {\n      this.setState({open: false, open2: false});\n        window.location.reload();\n    };\n    handleClose1 = (event) => {\n        this.setState({open1: false});\n        window.location.href = '/#/login1'\n    };\n\n    handleClose3 = (event) => {\n        this.setState({open3: false, email: ''});\n        // window.location.reload();\n    };\n    handleChange = (event) => {\n        const {name , value} = event.target;\n        this.setState({\n            [name] : value\n        })\n    };\n    render () {\n        const { classes } = this.props;\n\n        return (\n            <React.Fragment>\n            <CssBaseline />\n            <main className={classes.layout}>\n            <Paper className={classes.paper}>\n            <SignUp updateval={this.handleChange.bind(this)} CC={this.state.companyCode} UN={this.state.userName} PW={this.state.password} REPW={this.state.rePassWord} email1={this.state.email} validE={checkEmail(this.state.email)}/>\n            <div>\n                {((this.state.password === this.state.rePassWord) && (this.state.password !== '' && this.state.companyCode !== '' && this.state.userName !== '' && this.state.email !== '')) ? (\n                <Button\n                    className={classes.button}\n                    size=\"small\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={this.handleSubmit}\n                >\n                    Sign Up!\n                </Button>\n                ): (\n                    <Typography component=\"h6\" variant=\"h6\" align=\"center\">\n                        Already have an account? Click here to <Link href={'/#/login1'} className={classes.link}>Sign-In</Link>\n                    </Typography>\n                )\n                }\n            </div>\n            </Paper>\n            </main>\n                <Modal\n                    aria-labelledby=\"simple-modal-title\"\n                    aria-describedby=\"simple-modal-description\"\n                    open={this.state.open1}\n                    onClose={this.handleClose1}\n                >\n                    <div style={getModalStyle()} className={classes.modal}>\n                        <Typography variant=\"h6\" id=\"modal-title\">\n                            User Added\n                        </Typography>\n                        <Typography variant=\"subtitle1\" id=\"simple-modal-description\">\n                            User {this.state.userName} has been added.\n                        </Typography>\n                    </div>\n                </Modal>\n                <Modal\n                    aria-labelledby=\"simple-modal-title\"\n                    aria-describedby=\"simple-modal-description\"\n                    open={this.state.open}\n                    onClose={this.handleClose}\n                >\n                    <div style={getModalStyle()} className={classes.modal}>\n                        <Typography variant=\"h6\" id=\"modal-title\">\n                            User already exist for the current User Code\n                        </Typography>\n\n                    </div>\n                </Modal>\n\n                <Modal\n                aria-labelledby=\"simple-modal-title\"\n                aria-describedby=\"simple-modal-description\"\n                open={this.state.open2}\n                onClose={this.handleClose}\n            >\n                <div style={getModalStyle()} className={classes.modal}>\n                    <Typography variant=\"h6\" id=\"modal-title\">\n                        No Company Code exist.\n                    </Typography>\n\n                </div>\n            </Modal>\n\n                <Modal\n                    aria-labelledby=\"simple-modal-title\"\n                    aria-describedby=\"simple-modal-description\"\n                    open={this.state.open3}\n                    onClose={this.handleClose3}\n                >\n                    <div style={getModalStyle()} className={classes.modal}>\n                        <Typography variant=\"h6\" id=\"modal-title\">\n                            Please Provide a valid email address.\n                        </Typography>\n\n                    </div>\n                </Modal>\n\n        </React.Fragment>\n        )\n    }\n}\nsignuppage.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\nexport default withStyles(styles)(signuppage);"]},"metadata":{},"sourceType":"module"}