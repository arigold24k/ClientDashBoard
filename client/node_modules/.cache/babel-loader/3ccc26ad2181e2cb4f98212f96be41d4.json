{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\src\\\\pages\\\\Reporting\\\\reporting.js\";\nimport React from \"react\";\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Modal from '@material-ui/core/Modal';\nimport Navbar from './../../components/Navbar2';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Table from '../../components/Table';\nimport Icon from '@mdi/react';\nimport { mdiLoading } from \"@mdi/js\";\nimport axios from 'axios';\nimport DateBox from '../../components/DateSelector';\nvar drawerWidth = 240;\n\nvar styles = function styles(theme) {\n  var _paper;\n\n  return {\n    root: {\n      display: 'flex'\n    },\n    toolbar: {\n      paddingRight: 24 // keep right padding when drawer closed\n\n    },\n    toolbarIcon: _objectSpread({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: '0 8px'\n    }, theme.mixins.toolbar),\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: \"calc(100% - \".concat(drawerWidth, \"px)\"),\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    menuButton: {\n      marginLeft: 12,\n      marginRight: 36\n    },\n    menuButtonHidden: {\n      display: 'none'\n    },\n    title: {\n      flexGrow: 1\n    },\n    drawerPaper: {\n      position: 'relative',\n      whiteSpace: 'nowrap',\n      overflow: 'auto',\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    drawerPaperClose: _defineProperty({\n      overflowX: 'hidden',\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      width: theme.spacing.unit * 7\n    }, theme.breakpoints.up('sm'), {\n      width: theme.spacing.unit * 9\n    }),\n    appBarSpacer: theme.mixins.toolbar,\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing.unit * 3,\n      height: '100vh',\n      overflow: 'auto'\n    },\n    chartContainer: {\n      marginLeft: -22\n    },\n    tableContainer: {\n      height: 320\n    },\n    h5: {\n      marginBottom: theme.spacing.unit * 2\n    },\n    paper1: {\n      position: 'absolute',\n      width: theme.spacing.unit * 50,\n      backgroundColor: theme.palette.background.paper,\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing.unit * 4,\n      outline: 'none'\n    },\n    paper: (_paper = {\n      marginTop: theme.spacing.unit * 3,\n      marginBottom: theme.spacing.unit * 3,\n      padding: theme.spacing.unit,\n      overflow: 'auto'\n    }, _defineProperty(_paper, theme.breakpoints.up(600 + theme.spacing.unit * 3 * 2), {\n      marginTop: theme.spacing.unit * -1,\n      marginBottom: theme.spacing.unit * 6,\n      padding: theme.spacing.unit * 3\n    }), _defineProperty(_paper, \"align\", 'center'), _paper),\n    loadSection: {\n      align: 'center',\n      marginTop: theme.spacing.unit * 3\n    },\n    button: {\n      marginTop: theme.spacing.unit * 3,\n      marginLeft: theme.spacing.unit,\n      display: 'flex',\n      justifyContent: 'center',\n      align: 'center'\n    }\n  };\n};\n\nvar ranges = [{\n  value: 1,\n  label: 'Today'\n}, {\n  value: 2,\n  label: 'Current Week'\n}, {\n  value: 3,\n  label: 'MTD'\n}, {\n  value: 4,\n  label: 'YTD'\n}, {\n  value: 5,\n  label: 'Custom'\n}];\n\nfunction getModalStyle() {\n  var top = 50 + rand();\n  var left = 50 + rand();\n  return {\n    top: \"\".concat(top, \"%\"),\n    left: \"\".concat(left, \"%\"),\n    transform: \"translate(-\".concat(top, \"%, -\").concat(left, \"%)\")\n  };\n}\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nvar report =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(report, _React$Component);\n\n  function report(props) {\n    var _this;\n\n    _classCallCheck(this, report);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(report).call(this, props));\n\n    _this.handleClose = function () {\n      _this.setState({\n        modalOpen: false\n      });\n    };\n\n    _this.handleClose2 = function () {\n      _this.setState({\n        open2: false,\n        range1: \"\",\n        range2: \"\"\n      });\n    };\n\n    _this.openModal = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleOpen = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.handleChange = function (prop) {\n      return function (event) {\n        var _this$setState;\n\n        var value = event.target.value;\n\n        _this.setState((_this$setState = {}, _defineProperty(_this$setState, prop, value), _defineProperty(_this$setState, \"range1\", \"\"), _defineProperty(_this$setState, \"range2\", \"\"), _this$setState));\n      };\n    };\n\n    _this.handleDate = function (event) {\n      console.log(\"the event target object beign passed to the handledate, \", event.target.value);\n      var _event$target = event.target,\n          value = _event$target.value,\n          id = _event$target.id;\n\n      if (id === 'range2') {\n        if (_this.state.range1 > value) {\n          _this.setState({\n            open2: true\n          });\n        }\n      }\n\n      _this.setState(_defineProperty({}, id, value));\n\n      console.log(\"state once date is changed\", _this.state);\n    };\n\n    _this.handleSubmit = function () {\n      var headerObj = {\n        'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\n      };\n\n      _this.setState({\n        runReport: true,\n        data: null\n      });\n\n      var dataObj;\n\n      if (_this.state.period === 5) {\n        dataObj = {\n          comp: _this.props.companyname,\n          period: _this.state.period,\n          range1: _this.state.range1,\n          range2: _this.state.range2\n        };\n      } else {\n        dataObj = {\n          comp: _this.props.companyname,\n          period: _this.state.period\n        };\n      }\n\n      var holderArray = [];\n      axios.post('/reporting', dataObj, {\n        headers: headerObj\n      }).then(function (res, err) {\n        if (err) {\n          console.log('Error in getting data from database for reporting ', err);\n        }\n\n        console.log('this is the response from the reporting 1', res.data.data[0].length);\n\n        if (res.data.data[0] !== null && res.data.data[0].length > 0) {\n          for (var i = 0; i < res.data.data[0].length; i++) {\n            var holderDate = res.data.data[0][i].SCANDATE + '';\n            var holderArr = holderDate.split('T');\n            console.log(\"Splitting the date, \", holderArr);\n            var dObj = {\n              'recno': res.data.data[0][i].RECNO,\n              'scandate': holderArr[0],\n              'scancode': res.data.data[0][i].CODE,\n              'product': res.data.data[0][i].PART,\n              'quantity': res.data.data[0][i].QTY,\n              'tagnum': res.data.data[0][i].TAG_NUM\n            };\n            holderArray.push(dObj);\n          }\n\n          _this.setState({\n            data: holderArray\n          });\n\n          holderArray = [];\n        } else {\n          _this.state.data = [];\n        }\n\n        console.log('this is the state after the submit, ', _this.state);\n      });\n    };\n\n    _this.state = {\n      period: \"\",\n      runReport: false,\n      open: false,\n      modalOpen: false,\n      open2: false,\n      data: null,\n      range1: \"\",\n      range2: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(report, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        handleSignOut: this.props.handleSignOut,\n        username: this.props.companyname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        className: classes.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.appBarSpacer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }), React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        component: \"h1\",\n        variant: \"h4\",\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, \"Reporting\"), React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        select: true,\n        className: classNames(classes.margin, classes.textField),\n        variant: \"outlined\",\n        label: \"Time Range\",\n        align: \"center\",\n        value: this.state.period,\n        onChange: this.handleChange('period'),\n        InputProps: {\n          startAdornment: React.createElement(InputAdornment, {\n            position: \"start\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 288\n            },\n            __self: this\n          }, \"Time\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, ranges.map(function (option) {\n        return React.createElement(MenuItem, {\n          key: option.value,\n          value: option.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, option.label);\n      })), this.state.period === 5 && React.createElement(DateBox, {\n        handleDateChange: this.handleDate.bind(this),\n        range1: this.state.range1,\n        range2: this.state.range2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }), (this.state.period !== \"\" && this.state.period !== 5 || this.state.period === 5 && this.state.range1 !== \"\" && this.state.range2 !== \"\") && React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.handleSubmit,\n        className: classes.button,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, \"Run Report\"), React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317\n        },\n        __self: this\n      }, this.state.runReport && (this.state.data ? React.createElement(Table, {\n        dataPassed: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }) : React.createElement(Paper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        className: classes.loadSection,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        path: mdiLoading,\n        size: 1.5,\n        horizontal: true,\n        vertical: true,\n        rotate: 90,\n        color: \"#86af49\",\n        spin: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        className: classes.loadSection,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, \"Loading...\"))))))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        open: this.state.modalOpen,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: getModalStyle(),\n        className: classes.paper1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        id: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, \"Error\"), React.createElement(Typography, {\n        variant: \"subtitle1\",\n        id: \"simple-modal-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, \"One of the fields was left unfilled.\")))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, React.createElement(Modal, {\n        \"aria-labelledby\": \"simple-modal-title\",\n        \"aria-describedby\": \"simple-modal-description\",\n        open: this.state.open2,\n        onClose: this.handleClose2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: getModalStyle(),\n        className: classes.paper1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h6\",\n        id: \"modal-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, \"Error\"), React.createElement(Typography, {\n        variant: \"subtitle1\",\n        id: \"simple-modal-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370\n        },\n        __self: this\n      }, \"Invalid Date Range.\"))))));\n    }\n  }]);\n\n  return report;\n}(React.Component);\n\nreport.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(report);","map":{"version":3,"sources":["C:\\Users\\avidal\\Documents\\WebApps\\clientDashboard\\ClientDashBoard\\client\\src\\pages\\Reporting\\reporting.js"],"names":["React","PropTypes","classNames","withStyles","CssBaseline","Paper","Button","Typography","Modal","Navbar","MenuItem","TextField","InputAdornment","Table","Icon","mdiLoading","axios","DateBox","drawerWidth","styles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","overflow","drawerPaperClose","overflowX","spacing","unit","breakpoints","up","appBarSpacer","content","height","chartContainer","tableContainer","h5","marginBottom","paper1","backgroundColor","palette","background","paper","boxShadow","shadows","outline","marginTop","loadSection","align","button","ranges","value","label","getModalStyle","top","rand","left","transform","Math","round","random","report","props","handleClose","setState","modalOpen","handleClose2","open2","range1","range2","openModal","open","handleOpen","handleChange","prop","event","target","handleDate","console","log","id","state","handleSubmit","headerObj","sessionStorage","getItem","runReport","data","dataObj","period","comp","companyname","holderArray","post","headers","then","res","err","length","i","holderDate","SCANDATE","holderArr","split","dObj","RECNO","CODE","PART","QTY","TAG_NUM","push","classes","handleSignOut","margin","textField","startAdornment","map","option","bind","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Navbar from './../../components/Navbar2';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Table from '../../components/Table';\r\nimport Icon from '@mdi/react';\r\nimport {mdiLoading} from \"@mdi/js\";\r\nimport axios from 'axios';\r\nimport DateBox from '../../components/DateSelector';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    toolbar: {\r\n        paddingRight: 24, // keep right padding when drawer closed\r\n    },\r\n    toolbarIcon: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-end',\r\n        padding: '0 8px',\r\n        ...theme.mixins.toolbar,\r\n    },\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarShift: {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        marginLeft: 12,\r\n        marginRight: 36,\r\n    },\r\n    menuButtonHidden: {\r\n        display: 'none',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    drawerPaper: {\r\n        position: 'relative',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'auto',\r\n        width: drawerWidth,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    drawerPaperClose: {\r\n        overflowX: 'hidden',\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        width: theme.spacing.unit * 7,\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: theme.spacing.unit * 9,\r\n        },\r\n    },\r\n    appBarSpacer: theme.mixins.toolbar,\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing.unit * 3,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    chartContainer: {\r\n        marginLeft: -22,\r\n    },\r\n    tableContainer: {\r\n        height: 320,\r\n    },\r\n    h5: {\r\n        marginBottom: theme.spacing.unit * 2,\r\n    },\r\n    paper1: {\r\n        position: 'absolute',\r\n        width: theme.spacing.unit * 50,\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing.unit * 4,\r\n        outline: 'none',\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing.unit * 3,\r\n        marginBottom: theme.spacing.unit * 3,\r\n        padding: theme.spacing.unit,\r\n        overflow: 'auto',\r\n        [theme.breakpoints.up(600 + theme.spacing.unit * 3 * 2)]: {\r\n            marginTop: theme.spacing.unit * -1,\r\n            marginBottom: theme.spacing.unit * 6,\r\n            padding: theme.spacing.unit * 3,\r\n        },\r\n        align: 'center',\r\n    },\r\n    loadSection: {\r\n        align: 'center',\r\n        marginTop: theme.spacing.unit * 3,\r\n    },\r\n        button: {\r\n        marginTop: theme.spacing.unit * 3,\r\n        marginLeft: theme.spacing.unit,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        align: 'center',\r\n    },\r\n});\r\n\r\nconst ranges = [{\r\n    value: 1,\r\n    label: 'Today'\r\n    },{\r\n    value: 2,\r\n    label: 'Current Week'\r\n    },{\r\n    value: 3,\r\n    label: 'MTD'\r\n    },{\r\n    value: 4,\r\n    label: 'YTD'\r\n    },{\r\n    value: 5,\r\n    label: 'Custom'\r\n    }];\r\n\r\nfunction getModalStyle() {\r\n    const top = 50 + rand();\r\n    const left = 50 + rand();\r\n\r\n    return {\r\n        top: `${top}%`,\r\n        left: `${left}%`,\r\n        transform: `translate(-${top}%, -${left}%)`,\r\n    };\r\n}\r\n\r\nfunction rand() {\r\n    return Math.round(Math.random() * 20) - 10;\r\n}\r\n\r\nclass report extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            period : \"\",\r\n            runReport: false,\r\n            open: false,\r\n            modalOpen: false,\r\n            open2: false,\r\n            data: null,\r\n            range1: \"\",\r\n            range2: \"\"\r\n\r\n        };\r\n    }\r\n    handleClose = () => {\r\n        this.setState({ modalOpen: false });\r\n    };\r\n\r\n    handleClose2 = () => {\r\n        this.setState({\r\n            open2: false,\r\n            range1: \"\",\r\n            range2: \"\"\r\n        })\r\n    };\r\n\r\n    openModal = () => {\r\n        this.setState({open: true})\r\n    };\r\n\r\n    handleOpen = () => {\r\n        this.setState({ open: true });\r\n    };\r\n\r\n    handleChange = prop => event => {\r\n        const { value } = event.target;\r\n        this.setState({\r\n        [prop] : value,\r\n        range1: \"\",\r\n        range2: \"\"\r\n        })\r\n    };\r\n    handleDate = (event) => {\r\n        console.log(\"the event target object beign passed to the handledate, \", event.target.value);\r\n        const { value, id} = event.target;\r\n        if(id === 'range2') {\r\n            if(this.state.range1 > value) {\r\n                this.setState({open2: true});\r\n            }\r\n        }\r\n        this.setState({\r\n            [id] : value\r\n        });\r\n        console.log(\"state once date is changed\", this.state);\r\n    };\r\n\r\n    handleSubmit = () => {\r\n        const headerObj = {\r\n            'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\r\n        };\r\n        this.setState({runReport: true, data: null});\r\n        let dataObj;\r\n        if (this.state.period === 5){\r\n            dataObj = {comp: this.props.companyname, period: this.state.period, range1: this.state.range1, range2: this.state.range2};\r\n        }else {\r\n            dataObj  = {comp: this.props.companyname, period: this.state.period};\r\n        }\r\n\r\n        let holderArray = [];\r\n            axios.post('/reporting', dataObj, {headers: headerObj}).then((res, err) => {\r\n                if(err) {\r\n                    console.log('Error in getting data from database for reporting ', err);\r\n                }\r\n                console.log('this is the response from the reporting 1', res.data.data[0].length);\r\n                if(res.data.data[0] !== null && res.data.data[0].length > 0) {\r\n                    for (let i = 0; i < res.data.data[0].length; i++) {\r\n                        let holderDate = res.data.data[0][i].SCANDATE + '';\r\n                        let holderArr =  holderDate.split('T');\r\n                        console.log(\"Splitting the date, \", holderArr);\r\n                        let dObj = {\r\n                            'recno': res.data.data[0][i].RECNO,\r\n                            'scandate': holderArr[0],\r\n                            'scancode': res.data.data[0][i].CODE,\r\n                            'product': res.data.data[0][i].PART,\r\n                            'quantity': res.data.data[0][i].QTY,\r\n                            'tagnum': res.data.data[0][i].TAG_NUM,\r\n                        };\r\n\r\n                        holderArray.push(dObj);\r\n                    }\r\n                    this.setState({data: holderArray});\r\n                    holderArray = [];\r\n                }else {\r\n                    this.state.data = [];\r\n                }\r\n\r\n                console.log('this is the state after the submit, ', this.state);\r\n            })\r\n\r\n    };\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <React.Fragment>\r\n            <div className={classes.root}>\r\n                <CssBaseline/>\r\n                < Navbar handleSignOut={this.props.handleSignOut} username={this.props.companyname}/>\r\n                <main className={classes.content}>\r\n                    <div className={classes.appBarSpacer}/>\r\n                    <Paper className={classes.paper}>\r\n                        <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n                            Reporting\r\n                        </Typography>\r\n                        <React.Fragment>\r\n                            <TextField\r\n                                select\r\n                                className={classNames(classes.margin, classes.textField)}\r\n                                variant=\"outlined\"\r\n                                label=\"Time Range\"\r\n                                align='center'\r\n                                value={this.state.period}\r\n                                onChange={this.handleChange('period')}\r\n                                InputProps={{\r\n                                    startAdornment: <InputAdornment position=\"start\">Time</InputAdornment>,\r\n                                }}\r\n                            >\r\n                                {ranges.map(option => (\r\n                                    <MenuItem key={option.value} value={option.value}>\r\n                                        {option.label}\r\n                                    </MenuItem>\r\n                                ))}\r\n                            </TextField>\r\n\r\n                            {this.state.period === 5 &&\r\n                                <DateBox handleDateChange={this.handleDate.bind(this)} range1={this.state.range1} range2={this.state.range2}/>\r\n\r\n                            }\r\n\r\n                            {((this.state.period !== \"\" && this.state.period !== 5) || (this.state.period === 5 && this.state.range1 !==\"\" && this.state.range2 !== \"\")) &&\r\n                            <Button\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={this.handleSubmit}\r\n                                className={classes.button}\r\n                                align='center'\r\n                            >\r\n                                Run Report\r\n                            </Button>\r\n                            }\r\n\r\n                            <CssBaseline/>\r\n\r\n                            <div>\r\n                                {this.state.runReport &&\r\n                                (this.state.data ?\r\n                                        <Table dataPassed={this.state.data}/>\r\n                                        :\r\n                                        <Paper>\r\n                                            <Typography variant=\"h4\" gutterBottom component=\"h2\" className={classes.loadSection} align=\"center\">\r\n                                                <Icon path={mdiLoading}\r\n                                                      size={1.5}\r\n                                                      horizontal\r\n                                                      vertical\r\n                                                      rotate={90}\r\n                                                      color=\"#86af49\"\r\n                                                      spin/>\r\n                                            </Typography>\r\n                                            <Typography variant=\"h4\" gutterBottom component=\"h2\" className={classes.loadSection} align=\"center\">\r\n                                                Loading...\r\n                                            </Typography>\r\n                                        </Paper>\r\n                                )\r\n                                }\r\n                            </div>\r\n                        </React.Fragment>\r\n                    </Paper>\r\n                </main>\r\n                <div>\r\n                    <Modal\r\n                        aria-labelledby=\"simple-modal-title\"\r\n                        aria-describedby=\"simple-modal-description\"\r\n                        open={this.state.modalOpen}\r\n                        onClose={this.handleClose}\r\n                    >\r\n                        <div style={getModalStyle()} className={classes.paper1}>\r\n                            <Typography variant=\"h6\" id=\"modal-title\">\r\n                                Error\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" id=\"simple-modal-description\">\r\n                                One of the fields was left unfilled.\r\n                            </Typography>\r\n                        </div>\r\n                    </Modal>\r\n                </div>\r\n                <div>\r\n                    <Modal\r\n                        aria-labelledby=\"simple-modal-title\"\r\n                        aria-describedby=\"simple-modal-description\"\r\n                        open={this.state.open2}\r\n                        onClose={this.handleClose2}\r\n                    >\r\n                        <div style={getModalStyle()} className={classes.paper1}>\r\n                            <Typography variant=\"h6\" id=\"modal-title\">\r\n                                Error\r\n                            </Typography>\r\n                            <Typography variant=\"subtitle1\" id=\"simple-modal-description\">\r\n                                Invalid Date Range.\r\n                            </Typography>\r\n                        </div>\r\n                    </Modal>\r\n                </div>\r\n            </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nreport.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(report);"]},"metadata":{},"sourceType":"module"}