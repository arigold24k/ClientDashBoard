{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"C:\\\\Users\\\\avidal\\\\Documents\\\\WebApps\\\\clientDashboard\\\\ClientDashBoard\\\\client\\\\src\\\\pages\\\\DashBoard\\\\dashboard.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport SimpleLineChart from '../../components/SimpleLineChart';\nimport SimpleTable from '../../components/SimpleTable';\nimport Navbar from '../../components/Navbar2';\nimport axios from 'axios';\nvar drawerWidth = 240;\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      display: 'flex'\n    },\n    toolbar: {\n      paddingRight: 24 // keep right padding when drawer closed\n\n    },\n    toolbarIcon: _objectSpread({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: '0 8px'\n    }, theme.mixins.toolbar),\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: \"calc(100% - \".concat(drawerWidth, \"px)\"),\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    menuButton: {\n      marginLeft: 12,\n      marginRight: 36\n    },\n    menuButtonHidden: {\n      display: 'none'\n    },\n    title: {\n      flexGrow: 1\n    },\n    drawerPaper: {\n      position: 'relative',\n      whiteSpace: 'nowrap',\n      overflow: 'auto',\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    drawerPaperClose: _defineProperty({\n      overflowX: 'hidden',\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      width: theme.spacing.unit * 7\n    }, theme.breakpoints.up('sm'), {\n      width: theme.spacing.unit * 9\n    }),\n    appBarSpacer: theme.mixins.toolbar,\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing.unit * 3,\n      height: '100vh',\n      overflow: 'auto'\n    },\n    chartContainer: {\n      marginLeft: -22\n    },\n    tableContainer: {\n      height: 320\n    },\n    h5: {\n      marginBottom: theme.spacing.unit * 2\n    }\n  };\n};\n\nfunction getChartData() {\n  var _this = this;\n\n  var headerObj = {\n    'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\n  };\n  var holderArray = [];\n  var holderObject = {};\n  axios.post('/api/consumed', this.state.email, {\n    headers: headerObj\n  }).then(function (res) {\n    if (res.data.data !== null) {\n      console.log('Data that is coming back from the consumption, ', res.data.data[0]); //have the array built here\n\n      for (var i = 0; i < res.data.data[0].length; i++) {\n        holderObject = {\n          name: res.data.data[0][i].Month,\n          Consumed: res.data.data[0][i].Consumed,\n          Received: res.data.data[0][i].Received\n        }; // holderArray = this.state.data;\n\n        holderArray.push(holderObject);\n      }\n\n      _this.setState({\n        data: holderArray\n      });\n    }\n\n    console.log('Holder Array for the data, ', _this.state.data);\n  }).catch(function (err) {\n    console.log('Error: ', err);\n  });\n  holderArray = [];\n}\n\nfunction getTableData() {\n  var _this2 = this;\n\n  var headerObj = {\n    'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\n  };\n  axios.post('/api/consumedTable', this.state.email, {\n    headers: headerObj\n  }).then(function (res) {\n    var holderObjectTable = {};\n\n    if (res.data.data !== null) {\n      console.log('Data that is coming back from the consumption, ', res.data.data[0]); //have the array built here\n\n      for (var i = 0; i < res.data.data[0].length; i++) {\n        holderObjectTable = {\n          id: res.data.data[0][i].KCARD,\n          name: res.data.data[0][i].PART,\n          quantity: res.data.data[0][i].quantity\n        }; // holderArray = this.state.data;\n\n        holderArrayTable.push(holderObjectTable);\n      }\n\n      _this2.setState({\n        dataTable: holderArrayTable\n      });\n\n      holderArrayTable = [];\n    }\n  }).catch(function (err) {\n    console.log('error in getting the table data, ', err);\n  });\n}\n\nvar initialState = {\n  data: null,\n  dataTable: null\n};\nvar holderArrayTable = [];\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Dashboard, _React$Component);\n\n  function Dashboard(props) {\n    var _this3;\n\n    _classCallCheck(this, Dashboard);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n    _this3.state = initialState;\n    return _this3;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      getChartData();\n      getTableData();\n    } // state = {\n    //     open: false,\n    // };\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log('Holder Array for the data,1 ', this.state.data);\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        handleSignOut: this.props.handleSignOut,\n        username: this.props.companyname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        className: classes.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.appBarSpacer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, \"Product Flow\"), React.createElement(Typography, {\n        component: \"div\",\n        className: classes.chartContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, this.state.data ? React.createElement(SimpleLineChart, {\n        passData: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }) : React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \" Loading...\")), React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Products\"), React.createElement(\"div\", {\n        className: classes.tableContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, this.state.dataTable ? React.createElement(SimpleTable, {\n        dataPassed: this.state.dataTable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }) : React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \" Loading...\"))));\n    }\n  }]);\n\n  return Dashboard;\n}(React.Component);\n\nDashboard.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Dashboard);","map":{"version":3,"sources":["C:\\Users\\avidal\\Documents\\WebApps\\clientDashboard\\ClientDashBoard\\client\\src\\pages\\DashBoard\\dashboard.js"],"names":["React","PropTypes","withStyles","CssBaseline","Typography","SimpleLineChart","SimpleTable","Navbar","axios","drawerWidth","styles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","overflow","drawerPaperClose","overflowX","spacing","unit","breakpoints","up","appBarSpacer","content","height","chartContainer","tableContainer","h5","marginBottom","getChartData","headerObj","sessionStorage","getItem","holderArray","holderObject","post","state","email","headers","then","res","data","console","log","i","length","name","Month","Consumed","Received","push","setState","catch","err","getTableData","holderObjectTable","id","KCARD","PART","quantity","holderArrayTable","dataTable","initialState","Dashboard","props","classes","handleSignOut","companyname","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SimpleLineChart from '../../components/SimpleLineChart';\r\nimport SimpleTable from '../../components/SimpleTable';\r\nimport Navbar from '../../components/Navbar2';\r\nimport axios from 'axios';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst styles = theme => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    toolbar: {\r\n        paddingRight: 24, // keep right padding when drawer closed\r\n    },\r\n    toolbarIcon: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'flex-end',\r\n        padding: '0 8px',\r\n        ...theme.mixins.toolbar,\r\n    },\r\n    appBar: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarShift: {\r\n        marginLeft: drawerWidth,\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        transition: theme.transitions.create(['width', 'margin'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        marginLeft: 12,\r\n        marginRight: 36,\r\n    },\r\n    menuButtonHidden: {\r\n        display: 'none',\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    drawerPaper: {\r\n        position: 'relative',\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'auto',\r\n        width: drawerWidth,\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    drawerPaperClose: {\r\n        overflowX: 'hidden',\r\n        transition: theme.transitions.create('width', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        width: theme.spacing.unit * 7,\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: theme.spacing.unit * 9,\r\n        },\r\n    },\r\n    appBarSpacer: theme.mixins.toolbar,\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing.unit * 3,\r\n        height: '100vh',\r\n        overflow: 'auto',\r\n    },\r\n    chartContainer: {\r\n        marginLeft: -22,\r\n    },\r\n    tableContainer: {\r\n        height: 320,\r\n    },\r\n    h5: {\r\n        marginBottom: theme.spacing.unit * 2,\r\n    },\r\n});\r\n\r\nfunction getChartData () {\r\n    const headerObj = {\r\n        'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\r\n    };\r\n\r\n    let holderArray = [];\r\n    let holderObject = {};\r\n    axios.post('/api/consumed', this.state.email, {headers: headerObj}).then((res) => {\r\n        if(res.data.data !== null) {\r\n            console.log('Data that is coming back from the consumption, ', res.data.data[0]);\r\n            //have the array built here\r\n\r\n            for (let i = 0; i < res.data.data[0].length; i++) {\r\n                holderObject = {\r\n                    name: res.data.data[0][i].Month,\r\n                    Consumed: res.data.data[0][i].Consumed,\r\n                    Received: res.data.data[0][i].Received\r\n                };\r\n                // holderArray = this.state.data;\r\n                holderArray.push(holderObject);\r\n            }\r\n            this.setState({data: holderArray});\r\n\r\n        }\r\n\r\n        console.log('Holder Array for the data, ', this.state.data);\r\n    }).catch((err) => {\r\n        console.log('Error: ', err);\r\n    });\r\n    holderArray = [];\r\n}\r\n\r\nfunction getTableData () {\r\n    const headerObj = {\r\n        'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\r\n    };\r\n\r\n    axios.post('/api/consumedTable', this.state.email, {headers: headerObj}).then((res) => {\r\n        let holderObjectTable = {};\r\n        if(res.data.data !== null) {\r\n            console.log('Data that is coming back from the consumption, ', res.data.data[0]);\r\n            //have the array built here\r\n\r\n            for (let i = 0; i < res.data.data[0].length; i++) {\r\n                holderObjectTable = {\r\n                    id: res.data.data[0][i].KCARD,\r\n                    name: res.data.data[0][i].PART,\r\n                    quantity: res.data.data[0][i].quantity\r\n                };\r\n                // holderArray = this.state.data;\r\n                holderArrayTable.push(holderObjectTable);\r\n            }\r\n            this.setState({dataTable: holderArrayTable});\r\n            holderArrayTable = [];\r\n        }\r\n    }).catch((err) => {\r\n        console.log('error in getting the table data, ', err);\r\n    })\r\n}\r\n\r\nconst initialState = {data: null, dataTable: null};\r\n\r\nlet holderArrayTable = [];\r\n\r\nclass Dashboard extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = initialState;\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        getChartData();\r\n        getTableData();\r\n    }\r\n\r\n    // state = {\r\n    //     open: false,\r\n    // };\r\n    render() {\r\n        console.log('Holder Array for the data,1 ', this.state.data);\r\n\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n\r\n                <div className={classes.root}>\r\n                <CssBaseline/>\r\n                < Navbar handleSignOut={this.props.handleSignOut} username={this.props.companyname}/>\r\n                <main className={classes.content}>\r\n                <div className={classes.appBarSpacer}/>\r\n                <Typography variant=\"h4\" gutterBottom component=\"h2\">\r\n                Product Flow\r\n                </Typography>\r\n                <Typography component=\"div\" className={classes.chartContainer}>\r\n                    {this.state.data ? <SimpleLineChart passData={this.state.data}/> : <Typography variant=\"h4\" gutterBottom component=\"h2\"> Loading...</Typography>}\r\n                </Typography>\r\n                <Typography variant=\"h4\" gutterBottom component=\"h2\">\r\n                Products\r\n                </Typography>\r\n                <div className={classes.tableContainer}>\r\n                    {this.state.dataTable ? <SimpleTable dataPassed={this.state.dataTable}/> : <Typography variant=\"h4\" gutterBottom component=\"h2\"> Loading...</Typography>}\r\n                </div>\r\n                </main>\r\n                </div>\r\n        )\r\n    }\r\n}\r\n\r\nDashboard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Dashboard);"]},"metadata":{},"sourceType":"module"}