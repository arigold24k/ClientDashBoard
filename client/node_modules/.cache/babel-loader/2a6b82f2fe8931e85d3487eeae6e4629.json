{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\avidal\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\avidal\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\avidal\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\avidal\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\avidal\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"C:\\\\Users\\\\avidal\\\\ClientDashBoard\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\avidal\\\\ClientDashBoard\\\\client\\\\src\\\\pages\\\\DashBoard\\\\dashboard.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport SimpleLineChart from '../../components/SimpleLineChart';\nimport SimpleTable from '../../components/SimpleTable';\nimport Navbar from '../../components/Navbar2';\nimport axios from 'axios';\nimport Icon from '@mdi/react';\nimport { mdiLoading } from '@mdi/js';\nimport Paper from '@material-ui/core/Paper';\nimport Button from \"@material-ui/core/Button\";\n\nrequire('es6-promise').polyfill();\n\nvar drawerWidth = 240;\n\nvar styles = function styles(theme) {\n  var _paper;\n\n  return {\n    root: {\n      display: 'flex'\n    },\n    toolbar: {\n      paddingRight: 24 // keep right padding when drawer closed\n\n    },\n    toolbarIcon: _objectSpread({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: '0 8px'\n    }, theme.mixins.toolbar),\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: \"calc(100% - \".concat(drawerWidth, \"px)\"),\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    menuButton: {\n      marginLeft: 12,\n      marginRight: 36\n    },\n    menuButtonHidden: {\n      display: 'none'\n    },\n    title: {\n      flexGrow: 1\n    },\n    drawerPaper: {\n      position: 'relative',\n      whiteSpace: 'nowrap',\n      overflow: 'auto',\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    drawerPaperClose: _defineProperty({\n      overflowX: 'hidden',\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      width: theme.spacing.unit * 7\n    }, theme.breakpoints.up('sm'), {\n      width: theme.spacing.unit * 9\n    }),\n    appBarSpacer: theme.mixins.toolbar,\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing.unit * 3,\n      height: '100vh',\n      overflow: 'auto'\n    },\n    chartContainer: {\n      marginLeft: -22\n    },\n    tableContainer: {\n      height: 320,\n      marginLeft: theme.spacing.unit * 5\n    },\n    h5: {\n      marginBottom: theme.spacing.unit * 2\n    },\n    paper: (_paper = {\n      marginTop: theme.spacing.unit * 3,\n      marginBottom: theme.spacing.unit * 3,\n      padding: theme.spacing.unit,\n      overflow: 'auto'\n    }, _defineProperty(_paper, theme.breakpoints.up(600 + theme.spacing.unit * 3 * 2), {\n      marginTop: theme.spacing.unit * 6,\n      marginBottom: theme.spacing.unit * 6,\n      padding: theme.spacing.unit * 3\n    }), _defineProperty(_paper, \"align\", 'center'), _paper),\n    loadSection: {\n      align: 'center'\n    },\n    button: {\n      marginTop: theme.spacing.unit * -1,\n      marginLeft: theme.spacing.unit,\n      display: 'inline-flex',\n      justifyContent: 'center',\n      align: 'center'\n    }\n  };\n};\n\nvar initialState = {\n  data: null,\n  dataTable: null,\n  columnToSort: \"\",\n  sortDirection: \"desc\",\n  filtered: false,\n  selected: []\n};\n\nvar Dashboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Dashboard, _React$Component);\n\n  function Dashboard(props) {\n    var _this;\n\n    _classCallCheck(this, Dashboard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dashboard).call(this, props));\n\n    _this.getChartData = function (conditions) {\n      var headerObj = {\n        'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\n      };\n      var holderArray = []; // console.log('chart data is function is being hit');\n\n      axios.post('/api/consumed', {\n        email: _this.state.email,\n        filtered: conditions || false\n      }, {\n        headers: headerObj\n      }).then(function (res) {\n        var holderObject = {};\n\n        if (res.data.data !== null) {\n          console.log('Data that is coming back from the consumption, ', res.data.data[0]); //have the array built here\n\n          holderArray = [];\n\n          for (var i = 0; i < res.data.data[0].length; i++) {\n            holderObject = {\n              name: res.data.data[0][i].Month,\n              Consumed: res.data.data[0][i].Consumed,\n              Received: res.data.data[0][i].Received\n            }; // holderArray = this.state.data;\n\n            holderArray.push(holderObject);\n          }\n\n          _this.setState({\n            data: holderArray\n          }); //console.log(`this is the chart data ${this.state.data.holderArray}`);\n\n\n          holderArray = [];\n        } // console.log('Holder Array for the data, ', this.state.data);\n\n      }).catch(function (err) {// console.log('Error: ', err);\n      });\n    };\n\n    _this.getTableData = function () {\n      var headerObj = {\n        'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\n      };\n      var holderArrayTable = [];\n      axios.post('/api/consumedTable', _this.state.email, {\n        headers: headerObj\n      }).then(function (res) {\n        var holderObjectTable = {};\n\n        if (res.data.data !== null) {\n          //console.log('Data that is coming back from the consumption, ', res.data.data[0]);\n          //have the array built here\n          holderArrayTable = [];\n\n          for (var i = 0; i < res.data.data[0].length; i++) {\n            holderObjectTable = {\n              id: res.data.data[0][i].PART,\n              name: res.data.data[0][i].PART,\n              tagcount: res.data.data[0][i].tagcount.toString(),\n              quantity: res.data.data[0][i].quantity.toString()\n            };\n            holderArrayTable.push(holderObjectTable);\n          }\n\n          _this.setState({\n            dataTable: holderArrayTable\n          });\n\n          holderArrayTable = [];\n        }\n      }).catch(function (err) {// console.log('error in getting the table data, ', err);\n      });\n    };\n\n    _this.handleSubmit = function () {\n      var holdQueryString = \"\";\n      var selected = _this.state.selected;\n\n      if (selected.length > 0) {\n        selected.map(function (x) {\n          if (selected.indexOf(x) === selected.length - 1) {\n            holdQueryString = holdQueryString + \"'\" + x + \"'\";\n          } else {\n            holdQueryString = holdQueryString + \"'\" + x + \"', \";\n          }\n\n          return holdQueryString;\n        });\n\n        _this.setState({\n          filtered: holdQueryString\n        }); // console.log(\"Data in teh handle submit in the dasboard page, \", holdQueryString);\n        // console.log(\"Data in teh handle submit in the dasboard page, \", this.state);\n\n\n        _this.getChartData(holdQueryString);\n      } else {\n        _this.getChartData();\n      }\n    };\n\n    _this.state = initialState;\n    return _this;\n  }\n\n  _createClass(Dashboard, [{\n    key: \"componentDidMount\",\n    // UNSAFE_componentWillMount() {\n    //\n    //\n    // }\n    value: function componentDidMount() {\n      if (this.state.dataTable === null) {\n        this.getChartData();\n        this.getTableData();\n      }\n    }\n  }, {\n    key: \"updSelected\",\n    value: function updSelected(newSel) {\n      var selected = this.state.selected;\n      var selectedIndex = selected.indexOf(newSel);\n      var newSelected = [];\n\n      if (selectedIndex === -1) {\n        newSelected = newSelected.concat(selected, newSel);\n      } else if (selectedIndex === 0) {\n        newSelected = newSelected.concat(selected.slice(1));\n      } else if (selectedIndex === selected.length - 1) {\n        newSelected = newSelected.concat(selected.slice(0, -1));\n      } else if (selectedIndex > 0) {\n        newSelected = newSelected.concat(selected.slice(0, selectedIndex), selected.slice(selectedIndex + 1));\n      }\n\n      this.setState({\n        selected: newSelected\n      }); // console.log(\"update selected on dasboard being hit, \", this.state);\n    }\n  }, {\n    key: \"handleSelectAll\",\n    value: function handleSelectAll(checked, rows) {\n      if (checked) {\n        this.setState({\n          selected: rows.map(function (n) {\n            return n.id;\n          })\n        }); // return;\n      } else {\n        this.setState({\n          selected: [],\n          filter: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log('Holder Array for the data,1 ', this.state.data);\n      var classes = this.props.classes; // console.log('data being passed to the line chart befroe the return, ', this.state.data);\n      // console.log('data being passed to the order by', orderBy(this.state.dataTable, this.state.columnToSort, this.state.sortDirection));\n\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }), React.createElement(Navbar, {\n        handleSignOut: this.props.handleSignOut,\n        username: this.props.companyname,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        className: classes.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.appBarSpacer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        display: \"in-line\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Product Flow \", this.state.selected.length === 0 && React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.handleSubmit,\n        className: classes.button,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Reset\"))), React.createElement(Typography, {\n        component: \"div\",\n        className: classes.chartContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, this.state.data ? React.createElement(SimpleLineChart, {\n        passData: this.state.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: classes.tableContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        className: classes.loadSection,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        path: mdiLoading,\n        size: 1.5,\n        horizontal: true,\n        vertical: true,\n        rotate: 90,\n        color: \"#86af49\",\n        spin: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        className: classes.loadSection,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, \"Loading...\")))), React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, \"Products \", this.state.selected.length > 0 && React.createElement(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: this.handleSubmit,\n        className: classes.button,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, \"Update Chart\")), React.createElement(\"div\", {\n        className: classes.tableContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, this.state.dataTable ? React.createElement(SimpleTable, {\n        handleSelected: this.updSelected.bind(this),\n        handleSelAll: this.handleSelectAll.bind(this),\n        selected: this.state.selected,\n        dataPassed: this.state.dataTable,\n        incCheckBox: true,\n        tableTitle: \"Products\",\n        columns: [{\n          name: 'Product',\n          id: 'name',\n          numeric: false,\n          disablePadding: false,\n          label: \"Product\"\n        }, {\n          name: 'Tag Count',\n          id: 'tagcount',\n          numeric: true,\n          disablePadding: false,\n          label: \"Tag Count\"\n        }, {\n          name: 'Quantity in Inventory',\n          id: 'quantity',\n          numeric: true,\n          disablePadding: false,\n          label: 'Quantity in Inventory'\n        }],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327\n        },\n        __self: this\n      }) : React.createElement(Paper, {\n        className: classes.paper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        className: classes.loadSection,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        path: mdiLoading,\n        size: 1.5,\n        horizontal: true,\n        vertical: true,\n        rotate: 90,\n        color: \"#86af49\",\n        spin: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      })), React.createElement(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        component: \"h2\",\n        className: classes.loadSection,\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369\n        },\n        __self: this\n      }, \"Loading...\")))));\n    }\n  }]);\n\n  return Dashboard;\n}(React.Component);\n\nDashboard.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Dashboard);","map":{"version":3,"sources":["C:\\Users\\avidal\\ClientDashBoard\\client\\src\\pages\\DashBoard\\dashboard.js"],"names":["React","PropTypes","withStyles","CssBaseline","Typography","SimpleLineChart","SimpleTable","Navbar","axios","Icon","mdiLoading","Paper","Button","require","polyfill","drawerWidth","styles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","drawerPaper","position","whiteSpace","overflow","drawerPaperClose","overflowX","spacing","unit","breakpoints","up","appBarSpacer","content","height","chartContainer","tableContainer","h5","marginBottom","paper","marginTop","loadSection","align","button","initialState","data","dataTable","columnToSort","sortDirection","filtered","selected","Dashboard","props","getChartData","conditions","headerObj","sessionStorage","getItem","holderArray","post","email","state","headers","then","res","holderObject","console","log","i","length","name","Month","Consumed","Received","push","setState","catch","err","getTableData","holderArrayTable","holderObjectTable","id","PART","tagcount","toString","quantity","handleSubmit","holdQueryString","map","x","indexOf","newSel","selectedIndex","newSelected","concat","slice","checked","rows","n","filter","classes","handleSignOut","companyname","updSelected","bind","handleSelectAll","numeric","disablePadding","label","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport SimpleLineChart from '../../components/SimpleLineChart';\nimport SimpleTable from '../../components/SimpleTable';\nimport Navbar from '../../components/Navbar2';\nimport axios from 'axios';\nimport Icon from '@mdi/react';\nimport { mdiLoading } from '@mdi/js';\nimport Paper from '@material-ui/core/Paper';\nimport Button from \"@material-ui/core/Button\";\nrequire('es6-promise').polyfill();\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n    root: {\n        display: 'flex',\n    },\n    toolbar: {\n        paddingRight: 24, // keep right padding when drawer closed\n    },\n    toolbarIcon: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        padding: '0 8px',\n        ...theme.mixins.toolbar,\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    appBarShift: {\n        marginLeft: drawerWidth,\n        width: `calc(100% - ${drawerWidth}px)`,\n        transition: theme.transitions.create(['width', 'margin'], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    menuButton: {\n        marginLeft: 12,\n        marginRight: 36,\n    },\n    menuButtonHidden: {\n        display: 'none',\n    },\n    title: {\n        flexGrow: 1,\n    },\n    drawerPaper: {\n        position: 'relative',\n        whiteSpace: 'nowrap',\n        overflow: 'auto',\n        width: drawerWidth,\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    drawerPaperClose: {\n        overflowX: 'hidden',\n        transition: theme.transitions.create('width', {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        width: theme.spacing.unit * 7,\n        [theme.breakpoints.up('sm')]: {\n            width: theme.spacing.unit * 9,\n        },\n    },\n    appBarSpacer: theme.mixins.toolbar,\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing.unit * 3,\n        height: '100vh',\n        overflow: 'auto',\n    },\n    chartContainer: {\n        marginLeft: -22,\n    },\n    tableContainer: {\n        height: 320,\n        marginLeft: theme.spacing.unit * 5,\n    },\n    h5: {\n        marginBottom: theme.spacing.unit * 2,\n    },\n    paper: {\n        marginTop: theme.spacing.unit * 3,\n        marginBottom: theme.spacing.unit * 3,\n        padding: theme.spacing.unit,\n        overflow: 'auto',\n        [theme.breakpoints.up(600 + theme.spacing.unit * 3 * 2)]: {\n            marginTop: theme.spacing.unit * 6,\n            marginBottom: theme.spacing.unit * 6,\n            padding: theme.spacing.unit * 3,\n        },\n        align: 'center',\n    },\n    loadSection: {\n        align: 'center',\n    },\n    button: {\n        marginTop: theme.spacing.unit * -1,\n        marginLeft: theme.spacing.unit,\n        display: 'inline-flex',\n        justifyContent: 'center',\n        align: 'center',\n    },\n});\n\nconst initialState = {\n    data: null,\n    dataTable: null,\n    columnToSort: \"\",\n    sortDirection: \"desc\",\n    filtered: false,\n    selected: [],\n};\n\nclass Dashboard extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = initialState;\n    };\n    // UNSAFE_componentWillMount() {\n    //\n    //\n    // }\n    componentDidMount() {\n        if(this.state.dataTable === null) {\n            this.getChartData();\n            this.getTableData();\n        }\n\n    }\n\n    updSelected (newSel) {\n        const { selected } = this.state;\n        const selectedIndex = selected.indexOf(newSel);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, newSel);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1),\n            );\n        }\n        this.setState({\n            selected: newSelected\n        });\n\n        // console.log(\"update selected on dasboard being hit, \", this.state);\n    }\n    handleSelectAll (checked, rows) {\n        if (checked) {\n            this.setState({ selected: rows.map(n => n.id) });\n            // return;\n        }else {\n            this.setState({selected: [], filter: false});\n        }\n    }\n    getChartData = (conditions) => {\n        const headerObj = {\n            'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\n        };\n        let holderArray = [];\n        // console.log('chart data is function is being hit');\n        axios.post('/api/consumed', {email: this.state.email, filtered: conditions || false}, {headers: headerObj}).then((res) => {\n            let holderObject = {};\n            if(res.data.data !== null) {\n                console.log('Data that is coming back from the consumption, ', res.data.data[0]);\n                //have the array built here\n                holderArray = [];\n                for (let i = 0; i < res.data.data[0].length; i++) {\n                    holderObject = {\n                        name: res.data.data[0][i].Month,\n                        Consumed: res.data.data[0][i].Consumed,\n                        Received: res.data.data[0][i].Received\n                    };\n                    // holderArray = this.state.data;\n                    holderArray.push(holderObject);\n                }\n\n                this.setState({data: holderArray});\n                //console.log(`this is the chart data ${this.state.data.holderArray}`);\n                holderArray = [];\n            }\n            // console.log('Holder Array for the data, ', this.state.data);\n        }).catch((err) => {\n            // console.log('Error: ', err);\n        });\n\n    };\n    getTableData = () => {\n        const headerObj = {\n            'Authorization': \"bearer \" + sessionStorage.getItem(\"token\")\n        };\n        let holderArrayTable = [];\n        axios.post('/api/consumedTable', this.state.email, {headers: headerObj}).then((res) => {\n            let holderObjectTable = {};\n            if(res.data.data !== null) {\n                 //console.log('Data that is coming back from the consumption, ', res.data.data[0]);\n                //have the array built here\n                holderArrayTable = [];\n                for (let i = 0; i < res.data.data[0].length; i++) {\n                    holderObjectTable = {\n                        id: res.data.data[0][i].PART,\n                        name: res.data.data[0][i].PART,\n                        tagcount: res.data.data[0][i].tagcount.toString(),\n                        quantity: res.data.data[0][i].quantity.toString()\n                    };\n                    holderArrayTable.push(holderObjectTable);\n                }\n                this.setState({dataTable: holderArrayTable});\n                holderArrayTable = [];\n            }\n        }).catch((err) => {\n            // console.log('error in getting the table data, ', err);\n        })\n    };\n    handleSubmit = () => {\n        let holdQueryString = \"\";\n        const {selected} = this.state;\n        if(selected.length > 0) {\n            selected.map((x) => {\n                if(selected.indexOf(x) === selected.length -1) {\n                    holdQueryString = holdQueryString + \"'\" + x + \"'\";\n                }else{\n                    holdQueryString = holdQueryString + \"'\" + x + \"', \";\n                }\n                return holdQueryString;\n            });\n            this.setState({\n                filtered: holdQueryString\n            });\n            // console.log(\"Data in teh handle submit in the dasboard page, \", holdQueryString);\n            // console.log(\"Data in teh handle submit in the dasboard page, \", this.state);\n\n            this.getChartData(holdQueryString);\n        }else{\n            this.getChartData();\n        }\n    };\n\n    render() {\n        // console.log('Holder Array for the data,1 ', this.state.data);\n        const { classes } = this.props;\n        // console.log('data being passed to the line chart befroe the return, ', this.state.data);\n        // console.log('data being passed to the order by', orderBy(this.state.dataTable, this.state.columnToSort, this.state.sortDirection));\n        return (\n\n                <div className={classes.root}>\n                <CssBaseline/>\n                < Navbar handleSignOut={this.props.handleSignOut} username={this.props.companyname}/>\n                <main className={classes.content}>\n                <div className={classes.appBarSpacer}/>\n                <div display='in-line'>\n                <Typography variant=\"h4\" gutterBottom component=\"h2\">\n                Product Flow {this.state.selected.length === 0 &&\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={this.handleSubmit}\n                    className={classes.button}\n                    align='center'\n                >\n                    Reset\n                </Button>\n                }\n                </Typography>\n                </div>\n                <Typography component=\"div\" className={classes.chartContainer}>\n\n                    {this.state.data\n                            ?\n                                <SimpleLineChart passData={this.state.data}/>\n                            :\n                                <div className={classes.tableContainer}>\n                                <Paper className={classes.paper}>\n                                    <Typography variant=\"h4\" gutterBottom component=\"h2\" className={classes.loadSection} align=\"center\">\n                                        <Icon path={mdiLoading}\n                                            size={1.5}\n                                            horizontal\n                                            vertical\n                                            rotate={90}\n                                            color=\"#86af49\"\n                                            spin/>\n                                     </Typography>\n                                    <Typography variant=\"h4\" gutterBottom component=\"h2\" className={classes.loadSection} align=\"center\">\n                                        Loading...\n                                    </Typography>\n                                </Paper>\n                                </div>\n                    }\n\n                </Typography>\n                <Typography variant=\"h4\" gutterBottom component=\"h2\">\n                Products {this.state.selected.length > 0 &&\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={this.handleSubmit}\n                    className={classes.button}\n                    align='center'\n                >\n                    Update Chart\n                </Button>\n                }\n                </Typography>\n                <div className={classes.tableContainer}>\n\n                    {this.state.dataTable\n                        ?\n                            <SimpleTable\n                                handleSelected={this.updSelected.bind(this)}\n                                handleSelAll={this.handleSelectAll.bind(this)}\n                                selected={this.state.selected}\n                                dataPassed={this.state.dataTable}\n                                incCheckBox={true}\n                                tableTitle=\"Products\"\n                                columns={[\n                                    {\n                                        name: 'Product',\n                                        id: 'name',\n                                        numeric: false,\n                                        disablePadding: false,\n                                        label: \"Product\"\n                                    },\n                                    {\n                                        name: 'Tag Count',\n                                        id: 'tagcount',\n                                        numeric: true,\n                                        disablePadding: false,\n                                        label: \"Tag Count\"\n                                    },\n                                    {\n                                        name: 'Quantity in Inventory',\n                                        id: 'quantity',\n                                        numeric: true,\n                                        disablePadding: false,\n                                        label: 'Quantity in Inventory'\n                                    }\n                                ]}\n                            />\n                        :\n                        <Paper className={classes.paper}>\n                            <Typography variant=\"h4\" gutterBottom component=\"h2\" className={classes.loadSection} align=\"center\">\n                                <Icon path={mdiLoading}\n                                      size={1.5}\n                                      horizontal\n                                      vertical\n                                      rotate={90}\n                                      color=\"#86af49\"\n                                      spin/>\n                            </Typography>\n                            <Typography variant=\"h4\" gutterBottom component=\"h2\" className={classes.loadSection} align=\"center\">\n                                Loading...\n                            </Typography>\n                        </Paper>\n                    }\n                </div>\n                </main>\n                </div>\n        )\n    }\n}\nDashboard.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Dashboard);"]},"metadata":{},"sourceType":"module"}